function ibg(){let e=document.querySelectorAll(".ibg");e.forEach((t,o)=>{e[o].querySelector("img")&&(e[o].style.backgroundImage="url("+e[o].querySelector("img").getAttribute("src")+")")})}window.addEventListener("DOMContentLoaded",()=>{"use strict";ibg(),burger(),scrolling(),lineActive(),zoom(".catalog-сontent",".imgTrygerIn",".imgTrygerOut",".zabor-column__img--zoom"),zoom(".gallery-flex",".imgTrygerInGallery",".imgTrygerOutGallery",".gallery-column__img--zoom"),tabCatalog(".catalog-tubs",".catalog-tub__item",".catalog-сontent__item","activeTab"),calculator()});const burger=()=>{let e=document.querySelector(".header-burger"),t=document.querySelector(".header-menu"),o=document.querySelector("body"),r=document.querySelectorAll(".header-list__link");e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active"),o.classList.toggle("lock")}),r.forEach(r=>{r.addEventListener("click",r=>{r.target&&r.preventDefault(),e.classList.toggle("active"),t.classList.toggle("active"),o.classList.toggle("lock")})})},scrollHeader=()=>{let e=document.querySelector(".header-body");window.addEventListener("scroll",()=>{window.scrollY>=5?e.classList.add("block"):e.classList.remove("block")})};scrollHeader();const lineActive=()=>{let e=document.querySelector(".header-menu"),t=document.querySelectorAll(".header-list__link");function o(){t.forEach(e=>{e.classList.remove("activeNav")})}function r(e=0){t[e].classList.add("activeNav")}e.addEventListener("click",e=>{const n=e.target;n&&n.classList.contains("header-list__link")&&t.forEach((e,t)=>{n!=e&&n.parentNode!=e||(o(),r(t))})});let n=document.querySelectorAll(".contentActiv");window.addEventListener("scroll",(function(){n.forEach((e,t)=>{let n=e.offsetTop;window.scrollY>=n+-10&&(o(),r(t))})}))},zoom=(e,t,o,r)=>{let n=document.querySelector(e),l=document.querySelectorAll(t),c=document.querySelectorAll(o),a=document.querySelectorAll("[data-modal]"),d=document.querySelectorAll(r);n.addEventListener("click",e=>{const o=e.target;o&&o.classList.contains(t.replace(/\./,""))&&l.forEach((e,t)=>{o==e&&(a.forEach(e=>{e.style="display:none"}),console.log(d[t]),d[t].style="display:block",d[t].classList.add("fadeIn"))})}),c.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),a.forEach(e=>{e.style.display="none",e.classList.remove("fadeIn")})})})},scrolling=()=>{let e=document.querySelectorAll('[href^="#"]');e.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=document.documentElement.scrollTop,o=this.hash,r=document.querySelector(o).getBoundingClientRect().top,n=null;requestAnimationFrame((function e(l){null===n&&(n=l);let c=l-n,a=r<0?Math.max(t-c/.3,t+r):Math.min(t+c/.3,t+r);document.documentElement.scrollTo(0,a),a!=t+r?requestAnimationFrame(e):location.hash=o}))}))})},tabCatalog=(e,t,o,r,n="block")=>{const l=document.querySelector(e),c=document.querySelectorAll(t),a=document.querySelectorAll(o);function d(){a.forEach(e=>{e.style.display="none",e.classList.remove("fadeIn")}),c.forEach(e=>{e.classList.remove(r)})}function i(e=0){a[e].style.display=n,a[e].classList.add("fadeIn"),c[e].classList.add(r)}d(),i(),l.addEventListener("click",e=>{const o=e.target;o&&(o.classList.contains(t.replace(/\./,""))||o.parentNode.classList.contains(t.replace(/\./,"")))&&c.forEach((e,t)=>{o!=e&&o.parentNode!=e||(d(),i(t))})})};let trigerSelectionProject=0;const PopupOpeneClouse=()=>{const e=document.querySelectorAll(".js-zaborBtn"),t=document.querySelector(".popup-calc"),o=document.querySelector(".clouse-calc"),r=window.innerWidth-document.querySelector("body").offsetWidth+"px";e.forEach((e,o)=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),t.style="display:block",t.classList.add("fadeIn"),document.body.style.paddingRight=r,document.body.style.overflow="hidden"})}),o.addEventListener("click",()=>{t.style="display:none",t.classList.remove("fadeIn"),document.body.style.overflow="",document.body.style.paddingRight="0px"}),t.addEventListener("click",e=>{e.target===t&&(t.style.display="none",document.body.style.overflow="",document.body.style.paddingRight="0px")})};PopupOpeneClouse();const calculator=()=>{const e={"zsk-1":{kalitka:5e3,vorota:10700,zabor:3200,otkat:15600,zero:0},"zsk-2":{kalitka:5700,vorota:12300,zabor:4300,otkat:17700,zero:0},"zsk-3":{kalitka:5500,vorota:11800,zabor:3800,otkat:16900,zero:0},"zsk-4":{kalitka:6700,vorota:17500,zabor:5400,otkat:23300,zero:0},"zsk-5":{kalitka:6900,vorota:17500,zabor:5700,otkat:23200,zero:0},"zsk-6":{kalitka:7e3,vorota:18300,zabor:7900,otkat:24200,zero:0},"zsk-7":{kalitka:6700,vorota:16900,zabor:4500,otkat:22300,zero:0},"zsk-8":{kalitka:6700,vorota:17200,zabor:5300,otkat:22900,zero:0},"zsk-9":{kalitka:7200,vorota:18200,zabor:6100,otkat:24300,zero:0},"zsk-10":{kalitka:7200,vorota:18200,zabor:6100,otkat:24300,zero:0},"zsk-11":{kalitka:7200,vorota:17600,zabor:5300,otkat:23500,zero:0},"zsk-12":{kalitka:6900,vorota:17500,zabor:6100,otkat:23500,zero:0},"zsk-13":{kalitka:6900,vorota:17800,zabor:6700,otkat:23800,zero:0},"zsk-14":{kalitka:6600,vorota:17200,zabor:6200,otkat:23e3,zero:0},"zsk-15":{kalitka:6700,vorota:17900,zabor:6500,otkat:23800,zero:0}},t={60:{2:809,3:1015,4:0},80:{2:0,3:1268,4:1600},100:{2:0,3:1504,4:1900}},o=document.querySelector(".calc-select__body"),r=document.querySelector(".check__box-kalitka"),n=document.querySelector(".check__box-vorota"),l=document.querySelector(".check__box-zabor"),c=document.querySelector(".check__box-otkat"),a=document.querySelector(".calcBtn");let d=0,i=0,s=0,u=0,y=0,m=0,k=0,f=0,g="zero",h="zero",v="zero",p="zero",b=.85,q=0,L=60,S=2,z=1,_=1,E=1,T=0,w=0;r.addEventListener("change",(function(){g=r.checked?"kalitka":"zero"}));n.addEventListener("change",(function(){h=n.checked?"vorota":"zero"}));l.addEventListener("change",(function(){v=l.checked?"zabor":"zero"}));c.addEventListener("change",(function(){p=l.checked?"otkat":"zero"}));document.querySelector(".calc-radio__row--hight").addEventListener("change",e=>{b=e.target.value});(()=>{let e=document.querySelector(".calc-radio__row--profile"),t=document.querySelector(".calc-radio__row--metal"),o=document.querySelectorAll(".calc-radio__profile"),r=(document.querySelectorAll(".calc-radio__metal"),document.querySelector("#r21")),n=document.querySelector("#r23"),l=document.querySelector(".popup-metal__first"),c=document.querySelector(".popup-metal__last");e.addEventListener("change",e=>{o[1].checked||o[2].checked?(n.removeAttribute("disabled",""),c.style="display:none",l.style="display:block",r.setAttribute("disabled","")):(r.removeAttribute("disabled"),c.style="display:block",l.style="display:none",n.setAttribute("disabled","")),L=e.target.value}),t.addEventListener("change",e=>{S=e.target.value})})();o.addEventListener("change",(function(){d=e[o.value][g],i=e[o.value][h],s=e[o.value][v],u=e[o.value][p]}));(()=>{let e=document.querySelector(".calc-range__lenght"),t=document.querySelector(".length");t.textContent=e.value,e.oninput=function(){t.textContent=this.value,z=this.value},e.addEventListener("mousemove",(function(){let t=e.value/3,o="linear-gradient(90deg, rgb(255, 96, 5)"+t+"%, rgb(80, 80, 80)"+t+"%)";e.style.background=o}))})();document.querySelector(".calc-radio__row--coloration").addEventListener("change",e=>{_=e.target.value});document.querySelector(".calc-radio__row--montage").addEventListener("change",e=>{E=e.target.value});(()=>{let e,g=document.querySelector(".calc-total__scoreboard--wrapper > p"),h=document.querySelector(".kalitkas"),v=document.querySelector(".vorots"),p=document.querySelector(".zabors"),$=document.querySelector(".otkats"),x=document.querySelector(".name"),A=document.querySelector(".hights"),M=document.querySelector(".profiles"),H=document.querySelector(".lengthes"),I=document.querySelector(".sum"),C=document.querySelector(".colorations"),F=document.querySelector(".montages");a.addEventListener("click",(function(){y=d*b,m=i*b,k=s*b,f=u*b,q=t[L][S]*b,e=Math.floor(1e3*+z/(+L+3e3)),T=(d+i+u+s*e+q*e)*_*E,w=T.toFixed(2),g.innerHTML=w,r.checked?(h.innerHTML="Да",h.style="color:#ff6005"):(h.innerHTML="Не выбран",h.style="color:#8b0000"),n.checked?(v.innerHTML="Да",v.style="color:#ff6005"):(v.innerHTML="Не выбран",h.style="color:#8b0000"),l.checked?(p.innerHTML="Да",p.style="color:#ff6005"):(p.innerHTML="Не выбран",p.style="color:#8b0000"),c.checked?($.innerHTML="Да",$.style="color:#ff6005"):($.innerHTML="Не выбран",$.style="color:#8b0000"),"none"==o.value?(x.innerHTML="Не выбран",x.style="color:#8b0000"):(x.innerHTML=""+o.value,x.style="color:#ff6005"),.85==+b?(A.innerHTML="1.65",A.style="color:#ff6005"):.9==+b?(A.innerHTML="1.8",A.style="color:#ff6005"):(A.innerHTML="2",A.style="color:#ff6005"),0==q?(M.innerHTML="Не выбран",M.style="color:#8b0000"):(M.innerHTML=`${L} x ${L} х ${S}`,M.style="color:#ff6005"),H.innerHTML=+z,H.style="color:#ff6005",I.innerHTML=e,I.style="color:#ff6005",1==+_?(C.innerHTML="Не выбран",C.style="color:#8b0000"):(C.innerHTML="Да",C.style="color:#ff6005"),1==+E?(F.innerHTML="Не выбран",F.style="color:#8b0000"):(F.innerHTML="Да",F.style="color:#ff6005")}))})()},openPopupForm=()=>{const e=document.querySelector(".baner-btn"),t=document.querySelector(".popupForm"),o=document.querySelector(".clouseForm"),r=window.innerWidth-document.querySelector("body").offsetWidth+"px";e.addEventListener("click",()=>{t.style="display:block",t.classList.add("fadeIn"),document.body.style.paddingRight=r,document.body.style.overflow="hidden"}),o.addEventListener("click",()=>{t.style="display:none",document.body.style.overflow="",document.body.style.paddingRight="0px"})};openPopupForm(),$(document).ready((function(){$("input[type=submit]").click((function(){$("input[name=email]").removeAttr("required"),$("textarea[name=text]").removeAttr("required")})),$("#reqForm").submit((function(e){const t=document.querySelector(".popupForm"),o=document.querySelector("#js-reqThankYou"),r=window.innerWidth-document.querySelector("body").offsetWidth+"px";e.preventDefault(),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:new FormData(this),contentType:!1,cache:!1,processData:!1,success:function(e){t.style="display:none",o.style="display:block",o.classList.add("fadeIn"),document.body.style.paddingRight=r,document.body.style.overflow="hidden",$(this).find("input").val(""),$("#reqForm").trigger("reset")}}),$("#js-reqCloseThankYou").click((function(){o.style="display:none",document.body.style.overflow="",document.body.style.paddingRight="0px",$("input[name=email]").attr("required",""),$("textarea[name=text]").attr("required","")}))})),$("#form").submit((function(e){const t=window.innerWidth-document.querySelector("body").offsetWidth+"px";e.preventDefault(),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:new FormData(this),contentType:!1,cache:!1,processData:!1,success:function(e){$("#js-ThankYou").fadeIn().addClass("fadeIn"),$("#js-ThankYou").addClass("fadeIn"),document.body.style.paddingRight=t,document.body.style.overflow="hidden",$(this).find("input").val(""),$("#form").trigger("reset")}}),$("#js-CloseThankYou").click((function(){$("#js-ThankYou").fadeOut(),document.body.style.overflow="",document.body.style.paddingRight="0px",$("input[name=email]").attr("required",""),$("textarea[name=text]").attr("required","")}))}))}));